---
// --- CONFIGURACI√ìN DE IM√ÅGENES LOCALES (BARAJA) ---
const promoCards = [
    { src: "/promo/promo1.jpg", alt: "Pareja uniendo cr√©ditos" },
    { src: "/promo/promo2.jpg", alt: "Familia feliz estrenando casa" },
    { src: "/promo/promo3.jpg", alt: "Amigos compartiendo hogar" }
];
---

<section class="py-20 bg-[#293F71] text-white overflow-hidden relative">
    
    <div class="absolute inset-0 opacity-10 pointer-events-none bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-[#E76627]/30 via-transparent to-transparent"></div>

    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center gap-12">
            
            <div class="md:w-1/2 z-10" data-aos="fade-right">
                <span class="text-[#E76627] font-bold tracking-wider uppercase mb-2 block">
                    Programa Especial
                </span>
                
                <h2 class="text-4xl md:text-5xl font-extrabold mb-6 leading-tight">
                    √önete y <br/>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#E76627] to-[#ff9e70]">
                        COMPRA JUNTOS
                    </span>
                </h2>
                
                <p class="text-gray-200 text-lg mb-8 leading-relaxed">
                    ¬øEl cr√©dito individual no te alcanza? No te preocupes. 
                    Ahora puedes unir tu cr√©dito <strong>Infonavit o Fovissste</strong> con quien t√∫ quieras:
                </p>
                
                <ul class="space-y-4 mb-8">
                    <li class="flex items-center gap-3" data-aos="fade-up" data-aos-delay="100">
                        <span class="bg-[#1c2b4d] p-2 rounded-full shadow-sm border border-white/10">üë®‚Äçüë©‚Äçüëß</span>
                        <span>Familiares (Padres, Hijos, Hermanos)</span>
                    </li>
                    <li class="flex items-center gap-3" data-aos="fade-up" data-aos-delay="200">
                        <span class="bg-[#1c2b4d] p-2 rounded-full shadow-sm border border-white/10">‚ù§Ô∏è</span>
                        <span>Tu Pareja (Casados)</span>
                    </li>
                    <li class="flex items-center gap-3" data-aos="fade-up" data-aos-delay="300">
                        <span class="bg-[#1c2b4d] p-2 rounded-full shadow-sm border border-white/10">üëØ</span>
                        <span>Amigos o Corresidentes</span>
                    </li>
                </ul>

                <a href="#agenda" data-aos="zoom-in" data-aos-delay="400" class="inline-block bg-[#E76627] text-white font-bold px-8 py-3 rounded-lg hover:bg-[#d1551b] transition shadow-lg hover:shadow-[#E76627]/40 hover:scale-105 transform duration-200">
                    Calcular Cr√©dito Grupal
                </a>
            </div>

            <div class="md:w-1/2 relative h-[450px] md:h-[500px] w-full flex items-center justify-center z-10" data-aos="fade-left" data-aos-delay="200">
                
                <div class="absolute inset-0 md:-inset-4 bg-[#E76627]/10 rounded-3xl transform rotate-6 blur-md"></div>

                <div id="card-stack" class="relative w-[90%] h-[90%] md:w-full md:h-full">
                    {promoCards.map((card, index) => (
                        /* CAMBIO: Fondo de tarjeta azul oscuro #1c2b4d y borde naranja */
                        <div class={`promo-card absolute top-0 left-0 w-full h-full rounded-2xl shadow-2xl overflow-hidden bg-[#1c2b4d] border-2 border-[#E76627]/30 transition-all duration-700 ease-in-out`}
                             style={`z-index: ${promoCards.length - index}; transform: translateY(${index * 15}px) translateX(${index * 15}px) rotate(${index * -2}deg) scale(${1 - index * 0.05}); opacity: ${1 - index * 0.1};`}>
                            <img 
                                src={card.src} 
                                alt={card.alt} 
                                class="w-full h-full object-cover"
                            />
                            <div class="absolute inset-0 bg-gradient-to-t from-[#293F71]/80 to-transparent"></div>
                        </div>
                    ))}
                </div>
            </div>

        </div>
    </div>
</section>

<style>
    .card-exit {
        transform: translateX(-120%) rotate(-20deg) !important;
        opacity: 0 !important;
        z-index: 100 !important;
    }
</style>

<script is:inline>
    document.addEventListener('DOMContentLoaded', () => {
        const stack = document.getElementById('card-stack');
        if (!stack) return;

        let cards = Array.from(stack.querySelectorAll('.promo-card'));
        let isAnimating = false;

        function rotateCards() {
            if (isAnimating || cards.length < 2) return;
            isAnimating = true;

            const frontCard = cards[0];
            frontCard.classList.add('card-exit');

            setTimeout(() => {
                stack.appendChild(frontCard); 
                frontCard.classList.remove('card-exit'); 
                
                cards.push(cards.shift()); 
                updateCardPositions();
                
                isAnimating = false;
            }, 700); 
        }

        function updateCardPositions() {
            cards = Array.from(stack.querySelectorAll('.promo-card'));
            cards.forEach((card, index) => {
                card.style.zIndex = cards.length - index;
                card.style.transform = `translateY(${index * 15}px) translateX(${index * 15}px) rotate(${index * -2}deg) scale(${1 - index * 0.05})`;
                card.style.opacity = 1 - index * 0.1;
            });
        }

        setInterval(rotateCards, 3500); 
    });
</script>